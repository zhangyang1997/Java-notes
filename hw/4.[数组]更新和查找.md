```java
import java.util.*;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        while (sc.hasNext()) {
            int n1 = sc.nextInt();
            int n2 = sc.nextInt();
            int[] a = new int[n1];  
            for (int i = 0; i < n1; i++) {
                a[i] = sc.nextInt();
            }
            for (int i = 0; i < n2; i++) {
                String op = sc.next();
                char chop = op.charAt(0);
                int first = sc.nextInt();
                int second = sc.nextInt();
                if (chop == 'Q') {
                    System.out.println(max(a, first - 1, second - 1));
                }
                if (chop == 'U') {
                    a[first - 1] = second;
                }
            }
        }
        sc.close();
    }

    public static int max(int[] a, int first, int second) {
        int left, right;
        if (first <= second) {
            left = first;
            right = second;
        } else {
            left = second;
            right = first;
        }  
        int max = a[left];
        for (int i = left; i <= right; i++) {
            if (max < a[i]) {
                max = a[i];
            }
        }
        return max;
    }
}
```

